{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{useTranslation}from'react-i18next';import axios from'axios';import LoadingSpinner from'../components/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:4000/api/v1';const SchemeDetail=()=>{var _scheme$documents_req;const{id}=useParams();const navigate=useNavigate();const{t,i18n}=useTranslation();const[scheme,setScheme]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchSchemeDetails=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/schemes/\").concat(id));setScheme(response.data);}catch(err){console.error('Error fetching scheme details:',err);setError(t('common.error'));}finally{setLoading(false);}};if(id){fetchSchemeDetails();}},[id,t]);const getLocalizedName=s=>{if(i18n.language==='hi'&&s.name_hi)return s.name_hi;if(i18n.language==='mr'&&s.name_mr)return s.name_mr;return s.name;};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{});if(error||!scheme)return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 py-8 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:error||'Scheme not found'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"mt-4 btn-secondary\",children:\"\\u2190 Back\"})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"flex items-center text-primary-600 hover:text-primary-800 mb-6 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u2190\"}),\" \",t('common.back')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary-50 px-6 py-8 border-b border-primary-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-start\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block px-3 py-1 bg-white text-primary-700 rounded-full text-sm font-medium mb-3 shadow-sm\",children:scheme.ministry||'Government Scheme'}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:getLocalizedName(scheme)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"ID: \",scheme.scheme_id]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-8\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-3\",children:\"About the Scheme\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 leading-relaxed text-lg\",children:scheme.description})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-green-50 rounded-lg p-5 border border-green-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-green-800 mb-2\",children:\"\\uD83D\\uDCB0 Benefits\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-900\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Type:\"}),\" \",scheme.benefit_type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-900 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Value:\"}),\" \",JSON.stringify(scheme.benefit_value)]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"\\uD83D\\uDCC4 Documents Required\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:(_scheme$documents_req=scheme.documents_required)===null||_scheme$documents_req===void 0?void 0:_scheme$documents_req.map((doc,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-3 bg-gray-50 rounded-lg border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-3 font-bold\",children:idx+1}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 font-medium\",children:doc})]},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-6 border-t flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/apply/\".concat(scheme.scheme_id),{state:{schemeName:getLocalizedName(scheme)}}),className:\"btn-primary text-lg px-8 py-3 shadow-lg hover:shadow-xl transform transition-all active:scale-95\",children:\"Start Application \\u2192\"})})]})]})]});};export default SchemeDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useTranslation","axios","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","SchemeDetail","_scheme$documents_req","id","navigate","t","i18n","scheme","setScheme","loading","setLoading","error","setError","fetchSchemeDetails","response","get","concat","data","err","console","getLocalizedName","s","language","name_hi","name_mr","name","className","children","onClick","ministry","scheme_id","description","benefit_type","JSON","stringify","benefit_value","documents_required","map","doc","idx","state","schemeName"],"sources":["C:/Users/gmore/OneDrive/Desktop/Gaurav/krishi-ai/frontend/src/pages/SchemeDetail.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport axios from 'axios';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\ninterface SchemeDetail {\r\n  scheme_id: string;\r\n  name: string;\r\n  name_hi?: string;\r\n  name_mr?: string;\r\n  description: string;\r\n  benefit_type: string;\r\n  benefit_value: any;\r\n  category: string;\r\n  ministry: string;\r\n  rules: any[];\r\n  documents_required: string[];\r\n}\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:4000/api/v1';\r\n\r\nconst SchemeDetail: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [scheme, setScheme] = useState<SchemeDetail | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchSchemeDetails = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/schemes/${id}`);\r\n        setScheme(response.data);\r\n      } catch (err) {\r\n        console.error('Error fetching scheme details:', err);\r\n        setError(t('common.error'));\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (id) {\r\n      fetchSchemeDetails();\r\n    }\r\n  }, [id, t]);\r\n\r\n  const getLocalizedName = (s: SchemeDetail) => {\r\n    if (i18n.language === 'hi' && s.name_hi) return s.name_hi;\r\n    if (i18n.language === 'mr' && s.name_mr) return s.name_mr;\r\n    return s.name;\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner />;\r\n  if (error || !scheme) return (\r\n    <div className=\"max-w-4xl mx-auto px-4 py-8 text-center\">\r\n      <p className=\"text-red-600\">{error || 'Scheme not found'}</p>\r\n      <button onClick={() => navigate(-1)} className=\"mt-4 btn-secondary\">\r\n        ‚Üê Back\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto px-4 py-8\">\r\n      <button\r\n        onClick={() => navigate(-1)}\r\n        className=\"flex items-center text-primary-600 hover:text-primary-800 mb-6 transition-colors\"\r\n      >\r\n        <span className=\"mr-2\">‚Üê</span> {t('common.back')}\r\n      </button>\r\n\r\n      <div className=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n        <div className=\"bg-primary-50 px-6 py-8 border-b border-primary-100\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <span className=\"inline-block px-3 py-1 bg-white text-primary-700 rounded-full text-sm font-medium mb-3 shadow-sm\">\r\n                {scheme.ministry || 'Government Scheme'}\r\n              </span>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n                {getLocalizedName(scheme)}\r\n              </h1>\r\n              <p className=\"text-gray-600\">ID: {scheme.scheme_id}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-8\">\r\n          {/* Description */}\r\n          <section>\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-3\">\r\n              About the Scheme\r\n            </h2>\r\n            <p className=\"text-gray-700 leading-relaxed text-lg\">\r\n              {scheme.description}\r\n            </p>\r\n          </section>\r\n\r\n          {/* Benefits */}\r\n          <section className=\"bg-green-50 rounded-lg p-5 border border-green-100\">\r\n            <h2 className=\"text-lg font-semibold text-green-800 mb-2\">\r\n              üí∞ Benefits\r\n            </h2>\r\n            <p className=\"text-green-900\">\r\n              <span className=\"font-bold\">Type:</span> {scheme.benefit_type}\r\n            </p>\r\n            <p className=\"text-green-900 mt-1\">\r\n              <span className=\"font-bold\">Value:</span> {JSON.stringify(scheme.benefit_value)}\r\n            </p>\r\n          </section>\r\n\r\n          {/* Documents Required */}\r\n          <section>\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\r\n              üìÑ Documents Required\r\n            </h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              {scheme.documents_required?.map((doc, idx) => (\r\n                <div key={idx} className=\"flex items-center p-3 bg-gray-50 rounded-lg border\">\r\n                  <span className=\"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-3 font-bold\">\r\n                    {idx + 1}\r\n                  </span>\r\n                  <span className=\"text-gray-700 font-medium\">{doc}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Action Bar */}\r\n          <div className=\"pt-6 border-t flex justify-end\">\r\n            <button\r\n              onClick={() => navigate(`/apply/${scheme.scheme_id}`, { state: { schemeName: getLocalizedName(scheme) } })}\r\n              className=\"btn-primary text-lg px-8 py-3 shadow-lg hover:shadow-xl transform transition-all active:scale-95\"\r\n            >\r\n              Start Application ‚Üí\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SchemeDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}