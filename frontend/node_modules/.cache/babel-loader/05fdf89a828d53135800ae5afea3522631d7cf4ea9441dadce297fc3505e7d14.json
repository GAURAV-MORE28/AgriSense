{"ast":null,"code":"/**\r\n * VoiceInput Component - Speech-to-text input using Web Speech API\r\n */import React,{useState,useCallback}from'react';import{useTranslation}from'react-i18next';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const VoiceInput=_ref=>{let{onResult,language}=_ref;const{t,i18n}=useTranslation();const[isListening,setIsListening]=useState(false);const[isSupported]=useState(()=>{return'webkitSpeechRecognition'in window||'SpeechRecognition'in window;});const getLanguageCode=useCallback(()=>{const langMap={en:'en-IN',hi:'hi-IN',mr:'mr-IN'};return language||langMap[i18n.language]||'en-IN';},[language,i18n.language]);const startListening=useCallback(()=>{if(!isSupported){alert('Speech recognition is not supported in your browser');return;}const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(!SpeechRecognition)return;const recognition=new SpeechRecognition();recognition.lang=getLanguageCode();recognition.interimResults=false;recognition.maxAlternatives=1;recognition.onstart=()=>{setIsListening(true);};recognition.onresult=event=>{const transcript=event.results[0][0].transcript;onResult(transcript);setIsListening(false);};recognition.onerror=event=>{console.error('Speech recognition error:',event.error);setIsListening(false);};recognition.onend=()=>{setIsListening(false);};recognition.start();},[isSupported,getLanguageCode,onResult]);if(!isSupported){return null;}return/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:startListening,disabled:isListening,className:\"btn-voice relative \".concat(isListening?'listening voice-pulse':''),\"aria-label\":isListening?t('profile.listening'):t('profile.speakButton'),children:isListening?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"animate-pulse\",children:\"\\uD83C\\uDFA4\"}),t('profile.listening')]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFA4\"}),t('profile.speakButton')]})});};export default VoiceInput;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}