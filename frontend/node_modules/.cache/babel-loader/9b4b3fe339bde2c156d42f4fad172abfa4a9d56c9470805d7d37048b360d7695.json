{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{useTranslation}from'react-i18next';import axios from'axios';import LoadingSpinner from'../components/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:4001/api/v1';const SchemeDetail=()=>{var _scheme$documents_req;const{id}=useParams();const navigate=useNavigate();const{t,i18n}=useTranslation();const[scheme,setScheme]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchSchemeDetails=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/schemes/\").concat(id));setScheme(response.data);}catch(err){console.error('Error fetching scheme details:',err);setError(t('common.error'));}finally{setLoading(false);}};if(id){fetchSchemeDetails();}},[id,t]);const getLocalizedName=s=>{if(i18n.language==='hi'&&s.name_hi)return s.name_hi;if(i18n.language==='mr'&&s.name_mr)return s.name_mr;return s.name;};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{});if(error||!scheme)return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 py-8 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:error||'Scheme not found'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"mt-4 btn-secondary\",children:\"\\u2190 Back\"})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"flex items-center text-primary-600 hover:text-primary-800 mb-6 transition-colors\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u2190\"}),\" \",t('common.back')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary-50 px-6 py-8 border-b border-primary-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-start\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block px-3 py-1 bg-white text-primary-700 rounded-full text-sm font-medium mb-3 shadow-sm\",children:scheme.ministry||'Government Scheme'}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:getLocalizedName(scheme)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"ID: \",scheme.scheme_id]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-8\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-3\",children:\"About the Scheme\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 leading-relaxed text-lg\",children:scheme.description})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"bg-green-50 rounded-lg p-5 border border-green-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-green-800 mb-2\",children:\"\\uD83D\\uDCB0 Benefits\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-900\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Type:\"}),\" \",scheme.benefit_type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-900 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Value:\"}),\" \",JSON.stringify(scheme.benefit_value)]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"\\uD83D\\uDCC4 Documents Required\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:(_scheme$documents_req=scheme.documents_required)===null||_scheme$documents_req===void 0?void 0:_scheme$documents_req.map((doc,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-3 bg-gray-50 rounded-lg border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-3 font-bold\",children:idx+1}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 font-medium\",children:doc})]},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-6 border-t flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/apply/\".concat(scheme.scheme_id),{state:{schemeName:getLocalizedName(scheme)}}),className:\"btn-primary text-lg px-8 py-3 shadow-lg hover:shadow-xl transform transition-all active:scale-95\",children:\"Start Application \\u2192\"})})]})]})]});};export default SchemeDetail;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}