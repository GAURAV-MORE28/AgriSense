{"ast":null,"code":"/**\r\n * SchemeCard Component - Displays scheme with explainability\r\n */import React from'react';import{useNavigate}from'react-router-dom';import{useTranslation}from'react-i18next';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SchemeCard=_ref=>{let{scheme,rank,isExpanded,onToggle,localizedName,localizedExplanation}=_ref;const{t}=useTranslation();const navigate=useNavigate();const getStatusBadge=()=>{const statusConfig={eligible:{class:'eligible',text:t('schemes.eligible')},partially_eligible:{class:'partial',text:t('schemes.partiallyEligible')},ineligible:{class:'ineligible',text:t('schemes.notEligible')}};const config=statusConfig[scheme.eligibility_status];return/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(config.class),children:config.text});};const getScoreBadge=()=>{const scoreClass=scheme.score>=80?'high':scheme.score>=50?'medium':'low';return/*#__PURE__*/_jsxs(\"span\",{className:\"score-badge \".concat(scoreClass),children:[scheme.score,\"%\"]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"scheme-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[rank&&/*#__PURE__*/_jsxs(\"span\",{className:\"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-sm font-bold text-primary-700\",children:[\"#\",rank]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:localizedName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-3\",children:[getStatusBadge(),getScoreBadge()]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-3\",children:localizedExplanation}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4 text-sm\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[t('schemes.benefit'),\":\",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600 ml-1\",children:[\"\\u20B9\",scheme.benefit_estimate.toLocaleString('en-IN')]})]})})]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:onToggle,className:\"mt-4 text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center gap-1\",\"aria-expanded\":isExpanded,children:[t('schemes.whyThis'),/*#__PURE__*/_jsx(\"span\",{className:\"transform transition-transform\",style:{transform:isExpanded?'rotate(180deg)':'rotate(0deg)'},children:\"\\u25BC\"})]}),isExpanded&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 pt-4 border-t space-y-4 animate-slide-up\",children:[scheme.matched_rules.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:[\"\\u2705 \",t('schemes.matchedRules'),\":\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-gray-600 space-y-1\",children:scheme.matched_rules.map((rule,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500\",children:\"\\u2022\"}),rule.description]},idx))})]}),scheme.failing_rules.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:[\"\\u26A0\\uFE0F \",t('schemes.failingRules'),\":\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-gray-600 space-y-1\",children:scheme.failing_rules.map((rule,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-500\",children:\"\\u2022\"}),rule.description]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"\\uD83D\\uDCC4 Required Documents:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:scheme.expected_documents.map((doc,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-gray-100 rounded text-sm text-gray-600\",children:doc},idx))})]}),scheme.eligibility_status!=='ineligible'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/apply/\".concat(scheme.scheme_id)),className:\"btn-primary w-full mt-4\",children:[t('schemes.apply'),\" \\u2192\"]})]})]});};export default SchemeCard;","map":{"version":3,"names":["React","useNavigate","useTranslation","jsx","_jsx","jsxs","_jsxs","SchemeCard","_ref","scheme","rank","isExpanded","onToggle","localizedName","localizedExplanation","t","navigate","getStatusBadge","statusConfig","eligible","class","text","partially_eligible","ineligible","config","eligibility_status","className","concat","children","getScoreBadge","scoreClass","score","benefit_estimate","toLocaleString","onClick","style","transform","matched_rules","length","map","rule","idx","description","failing_rules","expected_documents","doc","scheme_id"],"sources":["C:/Users/gmore/OneDrive/Desktop/Gaurav/krishi-ai/frontend/src/components/SchemeCard.tsx"],"sourcesContent":["/**\r\n * SchemeCard Component - Displays scheme with explainability\r\n */\r\n\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ninterface Scheme {\r\n  scheme_id: string;\r\n  name: string;\r\n  score: number;\r\n  benefit_estimate: number;\r\n  confidence: 'high' | 'medium' | 'low';\r\n  eligibility_status: 'eligible' | 'partially_eligible' | 'ineligible';\r\n  matched_rules: Array<{ description: string }>;\r\n  failing_rules: Array<{ description: string }>;\r\n  expected_documents: string[];\r\n}\r\n\r\ninterface SchemeCardProps {\r\n  scheme: Scheme;\r\n  rank?: number;\r\n  isExpanded: boolean;\r\n  onToggle: () => void;\r\n  localizedName: string;\r\n  localizedExplanation: string;\r\n}\r\n\r\nconst SchemeCard: React.FC<SchemeCardProps> = ({\r\n  scheme,\r\n  rank,\r\n  isExpanded,\r\n  onToggle,\r\n  localizedName,\r\n  localizedExplanation\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n\r\n  const getStatusBadge = () => {\r\n    const statusConfig = {\r\n      eligible: { class: 'eligible', text: t('schemes.eligible') },\r\n      partially_eligible: { class: 'partial', text: t('schemes.partiallyEligible') },\r\n      ineligible: { class: 'ineligible', text: t('schemes.notEligible') }\r\n    };\r\n    const config = statusConfig[scheme.eligibility_status];\r\n    return (\r\n      <span className={`status-badge ${config.class}`}>\r\n        {config.text}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getScoreBadge = () => {\r\n    const scoreClass = scheme.score >= 80 ? 'high' : scheme.score >= 50 ? 'medium' : 'low';\r\n    return (\r\n      <span className={`score-badge ${scoreClass}`}>\r\n        {scheme.score}%\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"scheme-card\">\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            {rank && (\r\n              <span className=\"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-sm font-bold text-primary-700\">\r\n                #{rank}\r\n              </span>\r\n            )}\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n              {localizedName}\r\n            </h3>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-3 mb-3\">\r\n            {getStatusBadge()}\r\n            {getScoreBadge()}\r\n          </div>\r\n\r\n          <p className=\"text-gray-600 mb-3\">{localizedExplanation}</p>\r\n\r\n          <div className=\"flex items-center gap-4 text-sm\">\r\n            <span className=\"text-gray-500\">\r\n              {t('schemes.benefit')}: \r\n              <span className=\"font-semibold text-green-600 ml-1\">\r\n                ‚Çπ{scheme.benefit_estimate.toLocaleString('en-IN')}\r\n              </span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expand/Collapse Button */}\r\n      <button\r\n        onClick={onToggle}\r\n        className=\"mt-4 text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center gap-1\"\r\n        aria-expanded={isExpanded}\r\n      >\r\n        {t('schemes.whyThis')}\r\n        <span className=\"transform transition-transform\" style={{\r\n          transform: isExpanded ? 'rotate(180deg)' : 'rotate(0deg)'\r\n        }}>\r\n          ‚ñº\r\n        </span>\r\n      </button>\r\n\r\n      {/* Expanded Details */}\r\n      {isExpanded && (\r\n        <div className=\"mt-4 pt-4 border-t space-y-4 animate-slide-up\">\r\n          {/* Matched Rules */}\r\n          {scheme.matched_rules.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-sm font-medium text-gray-700 mb-2\">\r\n                ‚úÖ {t('schemes.matchedRules')}:\r\n              </h4>\r\n              <ul className=\"text-sm text-gray-600 space-y-1\">\r\n                {scheme.matched_rules.map((rule, idx) => (\r\n                  <li key={idx} className=\"flex items-start gap-2\">\r\n                    <span className=\"text-green-500\">‚Ä¢</span>\r\n                    {rule.description}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Failing Rules */}\r\n          {scheme.failing_rules.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-sm font-medium text-gray-700 mb-2\">\r\n                ‚ö†Ô∏è {t('schemes.failingRules')}:\r\n              </h4>\r\n              <ul className=\"text-sm text-gray-600 space-y-1\">\r\n                {scheme.failing_rules.map((rule, idx) => (\r\n                  <li key={idx} className=\"flex items-start gap-2\">\r\n                    <span className=\"text-yellow-500\">‚Ä¢</span>\r\n                    {rule.description}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Required Documents */}\r\n          <div>\r\n            <h4 className=\"text-sm font-medium text-gray-700 mb-2\">\r\n              üìÑ Required Documents:\r\n            </h4>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {scheme.expected_documents.map((doc, idx) => (\r\n                <span\r\n                  key={idx}\r\n                  className=\"px-2 py-1 bg-gray-100 rounded text-sm text-gray-600\"\r\n                >\r\n                  {doc}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Apply Button */}\r\n          {scheme.eligibility_status !== 'ineligible' && (\r\n            <button\r\n              onClick={() => navigate(`/apply/${scheme.scheme_id}`)}\r\n              className=\"btn-primary w-full mt-4\"\r\n            >\r\n              {t('schemes.apply')} ‚Üí\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SchemeCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}